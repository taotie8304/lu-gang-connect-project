# ===== 鲁港通AI系统配置模板 =====
# 复制此文件为 .env.local 并修改相应配置

# 日志配置
LOG_DEPTH=3
LOG_LEVEL=info
STORE_LOG_LEVEL=warn

# 默认root用户密码（⚠️ 首次启动后请立即修改）
DEFAULT_ROOT_PSW=YOUR_ADMIN_PASSWORD

# 数据库配置
DB_MAX_LINK=10
# ⚠️ 修改密码，与docker-compose.yml保持一致
MONGODB_URI=mongodb://root:YOUR_MONGO_PASSWORD@mongo:27017/lugang_ai?authSource=admin
MONGODB_LOG_URI=mongodb://root:YOUR_MONGO_PASSWORD@mongo:27017/lugang_ai?authSource=admin

# 向量数据库配置（PostgreSQL with pgvector）
# ⚠️ 修改密码，与docker-compose.yml保持一致
PG_URL=postgresql://postgres:YOUR_PG_PASSWORD@pg:5432/postgres

# Redis配置
REDIS_URL=redis://redis:6379

# 密钥配置（⚠️ 生产环境必须修改为随机字符串）
# 生成方法: openssl rand -hex 16
TOKEN_KEY=YOUR_RANDOM_STRING_32_CHARS
FILE_TOKEN_KEY=YOUR_RANDOM_STRING_32_CHARS
AES256_SECRET_KEY=YOUR_RANDOM_STRING_32_CHARS
ROOT_KEY=YOUR_RANDOM_STRING_32_CHARS

# ===== One API集成配置 =====
# 连接到你的One API服务
AIPROXY_API_ENDPOINT=http://156.225.30.134:8080
# ⚠️ 必须替换为真实的One API Token
AIPROXY_API_TOKEN=YOUR_ONEAPI_TOKEN

# ===== 服务配置 =====
# 插件服务（设置为空URL以禁用）
PLUGIN_BASE_URL=
PLUGIN_TOKEN=

# 代码沙箱（已禁用）
# SANDBOX_URL=http://sandbox:3002

# ===== 对象存储配置（MinIO，已禁用） =====
# S3_ENDPOINT=minio
# S3_PORT=9000
# S3_USE_SSL=false
# S3_ACCESS_KEY=minioadmin
# S3_SECRET_KEY=minioadmin
# S3_PUBLIC_BUCKET=lugang-public
# S3_PRIVATE_BUCKET=lugang-private
# S3_PATH_STYLE=true

# ===== 域名配置 =====
# ⚠️ 修改为你的服务器IP或域名
FE_DOMAIN=http://YOUR_SERVER_IP:3210
FILE_DOMAIN=http://YOUR_SERVER_IP:3210

# ===== 功能开关 =====
# 隐藏版权信息
HIDE_CHAT_COPYRIGHT_SETTING=true

# 关闭IP限流（内网环境可关闭）
USE_IP_LIMIT=false

# 不展示兑换码和优惠券功能
SHOW_COUPON=false
SHOW_DISCOUNT_COUPON=false

# ===== 安全配置 =====
# 工作流最大运行次数
WORKFLOW_MAX_RUN_TIMES=500
WORKFLOW_MAX_LOOP_TIMES=50

# 服务器接收请求最大大小（MB）
SERVICE_REQUEST_MAX_CONTENT_LENGTH=10

# 启用内网IP检查
CHECK_INTERNAL_IP=false

# ===== 性能配置 =====
# 嵌入模型单次并发量
EMBEDDING_CHUNK_SIZE=10

# 强制将图片转成base64传递给模型
MULTIPLE_DATA_TO_BASE64=true
